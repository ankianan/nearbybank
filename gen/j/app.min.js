!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(){"use strict";function a(a,b,e,f){var g=new google.maps.LatLng(a,b);c=new google.maps.Map(document.getElementById("map"),{center:g,zoom:15});var h={location:g,rankBy:google.maps.places.RankBy.DISTANCE,types:["bank","atm "]};d=new google.maps.places.PlacesService(c),d.nearbySearch(h,e)}function b(b){var c=arguments.length<=1||void 0===arguments[1]?"atm":arguments[1];"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(d){a(d.coords.latitude,d.coords.longitude,b,c)})}console.group=console.group||console.log,console.groupEnd=console.groupEnd||console.log;var c,d,e=function(a){return function(a){return function(b){var c=a(b);return c}}},f=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},h=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},i=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b},j=function(){var a=arguments.length<=0||void 0===arguments[0]?{previous:"",current:""}:arguments[0],b=arguments[1];switch(b.type){case"CHANGE_ROUTE":return g({},a,{previous:a.current,current:b.route});default:return a}},k=function(){var a=arguments.length<=0||void 0===arguments[0]?{name:"",detail:{},nearby:[],places:{},filtered:[]}:arguments[0],b=arguments[1],c=function(){switch(b.type){case"GET_DETAIL":return{v:g({},a,{name:b.name,detail:{morning:50,afternoon:80,evening:40,lateEvening:10}})};case"SAVE_NEARBY":var c=[],d={};return b.nearby.map(function(a){c.push(a.id),d[a.id]=a}),{v:g({},a,{nearby:c,places:d,filtered:c})};case"FILTER_NEARBY":return{v:g({},a,{filtered:a.nearby.filter(function(c){var d=a.places[c].name.toLowerCase(),e=(b.filterType,b.filterText);return-1!=d.indexOf(e.toLowerCase())})})};default:return{v:a}}}();return"object"==typeof c?c.v:void 0},l=window.interfaces.Redux.combineReducers,m=l({title:function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0],b=arguments[1];switch(b.type){case"CHANGE_ROUTE":return b.title;default:return a}},route:j,bank:k}),n="/nearby",o="/detail/",p={bankNearBy:function(){return{type:"CHANGE_ROUTE",route:n,title:"Nearby Banks"}},bankDetail:function(a){return{type:"CHANGE_ROUTE",route:""+o+a,title:"Bank Status"}}},q=window.interfaces.page,r=function(a){q("/",function(){q.redirect(n)}),q(n,function(){a.bankNearBy()}),q(o+":name",function(b){a.bankDetail(b.params.name)}),q("*",function(a){})},s={getDetails:function(a){return{type:"GET_DETAIL",name:a}},saveNearBy:function(a){return{type:"SAVE_NEARBY",nearby:a}},filterNearBy:function(a){var b=a.filterType,c=a.filterText;return{type:"FILTER_NEARBY",filterType:b,filterText:c}}},t=window.interfaces,u=t.Virtual,v=t.page,w=function(a){function b(){f(this,b);var c=i(this,a.apply(this,arguments));return c.state={going:!1,icon:"003e"},c}return h(b,a),b.prototype.toggle=function(a){a.prevenDefault();var b=!this.state.going,c=void 0;c=b?"2713":"003e",this.setState({going:b,icon:c})},b.prototype.viewDetail=function(){this.props.getDetails(this.props.name),v(""+o+this.props.name)},b.prototype.render=function(){return u.createElement("li",{className:"w3-padding-16 w3-row",onClick:this.viewDetail.bind(this)},u.createElement("div",{className:"w3-rest"},u.createElement("span",{className:"w3-xlarge"},this.props.name),u.createElement("br",null),u.createElement("span",null,this.props.vicinity)))},b}(u.Component),x=window.interfaces.Virtual,y=function(a){function b(){f(this,b);var c=i(this,a.apply(this,arguments));return c.state={filterText:"",filterType:""},c}return h(b,a),b.prototype.shouldComponenetUpdate=function(a,b){return b!=this.state},b.prototype.setFilterText=function(a){var b=g({},this.state,{filterText:a.target.value});this.setState(b),this.props.filterNearBy(b)},b.prototype.setFilterType=function(a){var b=g({},this.state,{filterType:a});this.setState(b),this.props.filterNearBy(b)},b.prototype.render=function(){return x.createElement("input",{className:"w3-input",type:"text",placeholder:"Search your banks or atm",value:this.state.filterText,onChange:this.setFilterText.bind(this)})},b}(x.Component),z=window.interfaces.Virtual,A=function(a){function c(){f(this,c);var d=i(this,a.apply(this,arguments)),e=3,g=3;return d.state={offset:e,numberOfTupleToBeShown:g},d.props.bank.filtered.length||b(d.callback.bind(d)),d}return h(c,a),c.prototype.callback=function(a,b){b==google.maps.places.PlacesServiceStatus.OK&&this.props.saveNearBy(a)},c.prototype.showMore=function(){var a=this.state,b=a.offset,c=a.numberOfTupleToBeShown,d=this.props.bank.filtered.length,e=d-c;c+=e>b?b:e,this.setState({numberOfTupleToBeShown:c})},c.prototype.render=function(){var a=this,b=this.props.bank.filtered.map(function(b){return a.props.bank.places[b]}).slice(0,this.state.numberOfTupleToBeShown).map(function(b,c){return z.createElement(w,{key:c,name:b.name,vicinity:b.vicinity,getDetails:a.props.getDetails})}),c=this.props.bank.filtered.length>this.state.numberOfTupleToBeShown?z.createElement("button",{className:"w3-btn-block w3-teal",onClick:this.showMore.bind(this)},"Show More"):"";return z.createElement("div",null,z.createElement(y,{filterNearBy:this.props.filterNearBy}),z.createElement("ul",{className:"w3-ul"},b),c)},c}(z.Component),B=window.interfaces.Virtual,C=function(a){function b(){return f(this,b),i(this,a.apply(this,arguments))}return h(b,a),b.prototype.render=function(){return B.createElement("div",{className:"w3-card-4"},B.createElement("header",{className:"w3-container w3-light-grey"},B.createElement("h3",null,this.props.name)),B.createElement("div",{className:"w3-container"},B.createElement("p",null,"Trends"),B.createElement("table",{className:"w3-table w3-teal"},B.createElement("tbody",null,B.createElement("tr",null,B.createElement("th",null,"Timing"),B.createElement("th",{className:"w3-hide-small"},"Duration"),B.createElement("th",null,"Active bankers")),B.createElement("tr",null,B.createElement("td",null,"Morning"),B.createElement("td",{className:"w3-hide-small"},"08 am to 12 pm"),B.createElement("td",null,this.props.detail.morning)),B.createElement("tr",null,B.createElement("td",null,"Afternoon"),B.createElement("td",{className:"w3-hide-small"},"12 pm to 04 pm"),B.createElement("td",null,this.props.detail.afternoon)),B.createElement("tr",null,B.createElement("td",null,"Evening"),B.createElement("td",{className:"w3-hide-small"},"04 pm to 08 pm"),B.createElement("td",null,this.props.detail.evening)),B.createElement("tr",null,B.createElement("td",null,"Late Evening"),B.createElement("td",{className:"w3-hide-small"},"After 08pm"),B.createElement("td",null,this.props.detail.lateEvening)))),B.createElement("br",null)))},b}(B.Component),D=window.interfaces,E=D.Virtual,F=D.page,G=window.interfaces.Redux,H=G.createStore,I=G.bindActionCreators,J=G.applyMiddleware,K=function(a){function b(){f(this,b);var c=i(this,a.apply(this,arguments));c.state={},c.store=H(m,c.state,J(e)),c.boundedBankAction=I(s,c.store.dispatch);var d=I(p,c.store.dispatch);return r(d),c.store.subscribe(function(){c.setState(c.store.getState())}),F("/"),c}return h(b,a),b.prototype.render=function(){var a="";return this.state.route&&(this.state.route.current==n&&(a=E.createElement(A,g({bank:this.state.bank},this.boundedBankAction))),-1!=this.state.route.current.indexOf(o)&&(a=E.createElement(C,g({name:this.state.bank.name,detail:this.state.bank.detail},this.boundedBankAction)))),E.createElement("div",null,E.createElement("div",{className:"w3-container w3-teal"},E.createElement("h1",null,this.state.title)),a)},b}(E.Component),L=window.interfaces,M=L.VirtualDom,N=L.Virtual;M.render(N.createElement(K,null),document.getElementById("root"))}()},{}]},{},[1]);